{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ehsan\\\\Documents\\\\GitHub\\\\React-Diaries-App\\\\src\\\\features\\\\diary\\\\DiaryEntriesList.tsx\";\nimport React, { useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport http from '../../services/api';\nimport { setEntries } from '../entry/entriesSlice';\nimport { setCurrentlyEditing, setCanEdit } from '../entry/editorSlice';\nimport dayjs from 'dayjs';\nimport { useAppDispatch } from '../../store';\n\nconst DiaryEntriesList = () => {\n  const {\n    entries\n  } = useSelector(state => state);\n  const dispatch = useAppDispatch();\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    if (id != null) {\n      http.get(`/diaries/entries/${id}`).then(({\n        entries: _entries\n      }) => {\n        if (_entries) {\n          const sortByLastUpdated = _entries.sort((a, b) => {\n            return dayjs(b.updatedAt).unix() - dayjs(a.updatedAt).unix();\n          });\n\n          dispatch(setEntries(sortByLastUpdated));\n        }\n      });\n    }\n  }, [id, dispatch]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"entries\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 22\n    }\n  }, \"\\u2190 Go Back\"))), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, entries.map(entry => /*#__PURE__*/React.createElement(\"li\", {\n    key: entry.id,\n    onClick: () => {\n      dispatch(setCurrentlyEditing(entry));\n      dispatch(setCanEdit(true));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, entry.title))));\n};\n\nexport default DiaryEntriesList; // Here, we subscribe to the entries property of our app’s state, and have our effect fetch a \n// diary’s entry only run when a property, id, changes. This property’s value is gotten from our \n// URL as a path parameter using the useParams() hook from react-router. In the next step, we will \n// create a component that will enable users to create and view diaries, as well as render a diary’s \n// entries when it is in focus.\n// Create a file named Diaries.tsx while still in the same directory, and add the following code to the file:","map":{"version":3,"sources":["C:/Users/Ehsan/Documents/GitHub/React-Diaries-App/src/features/diary/DiaryEntriesList.tsx"],"names":["React","useEffect","useParams","Link","useSelector","http","setEntries","setCurrentlyEditing","setCanEdit","dayjs","useAppDispatch","DiaryEntriesList","entries","state","dispatch","id","get","then","_entries","sortByLastUpdated","sort","a","b","updatedAt","unix","map","entry","title"],"mappings":";AAAA,OAAOA,KAAP,IAAoBC,SAApB,QAAqC,OAArC;AACA,SAASC,SAAT,EAAoBC,IAApB,QAAgC,kBAAhC;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,OAAOC,IAAP,MAAiB,oBAAjB;AAEA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SAASC,mBAAT,EAA8BC,UAA9B,QAAgD,sBAAhD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,aAA/B;;AAGA,MAAMC,gBAAoB,GAAG,MAAM;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAcR,WAAW,CAAES,KAAD,IAAsBA,KAAvB,CAA/B;AACA,QAAMC,QAAQ,GAAGJ,cAAc,EAA/B;AACA,QAAM;AAAEK,IAAAA;AAAF,MAAcb,SAAS,EAA7B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIc,EAAE,IAAI,IAAV,EAAgB;AACdV,MAAAA,IAAI,CACDW,GADH,CACoC,oBAAmBD,EAAG,EAD1D,EAEGE,IAFH,CAEQ,CAAC;AAAEL,QAAAA,OAAO,EAAEM;AAAX,OAAD,KAA2B;AAC/B,YAAIA,QAAJ,EAAc;AACZ,gBAAMC,iBAAiB,GAAGD,QAAQ,CAACE,IAAT,CAAc,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAChD,mBAAOb,KAAK,CAACa,CAAC,CAACC,SAAH,CAAL,CAAmBC,IAAnB,KAA4Bf,KAAK,CAACY,CAAC,CAACE,SAAH,CAAL,CAAmBC,IAAnB,EAAnC;AACD,WAFyB,CAA1B;;AAGAV,UAAAA,QAAQ,CAACR,UAAU,CAACa,iBAAD,CAAX,CAAR;AACD;AACF,OATH;AAUD;AACF,GAbQ,EAaN,CAACJ,EAAD,EAAKD,QAAL,CAbM,CAAT;AAgBA,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAb,CADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,OAAO,CAACa,GAAR,CAAaC,KAAD,iBACX;AAAI,IAAA,GAAG,EAAEA,KAAK,CAACX,EAAf;AAAmB,IAAA,OAAO,EAAE,MAAM;AAAED,MAAAA,QAAQ,CAACP,mBAAmB,CAACmB,KAAD,CAApB,CAAR;AAAsCZ,MAAAA,QAAQ,CAACN,UAAU,CAAC,IAAD,CAAX,CAAR;AAA4B,KAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGkB,KAAK,CAACC,KADT,CADD,CADH,CAJF,CADF;AAcD,CAnCD;;AAsCA,eAAehB,gBAAf,C,CACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { FC, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../rootReducer';\r\nimport http from '../../services/api';\r\nimport { Entry } from '../../interfaces/entry.interface';\r\nimport { setEntries } from '../entry/entriesSlice';\r\nimport { setCurrentlyEditing, setCanEdit } from '../entry/editorSlice';\r\nimport dayjs from 'dayjs';\r\nimport { useAppDispatch } from '../../store';\r\n\r\n\r\nconst DiaryEntriesList: FC = () => {\r\n  const { entries } = useSelector((state: RootState) => state);\r\n  const dispatch = useAppDispatch();\r\n  const { id }: any = useParams();\r\n\r\n  useEffect(() => {\r\n    if (id != null) {\r\n      http\r\n        .get<null, { entries: Entry[] }>(`/diaries/entries/${id}`)\r\n        .then(({ entries: _entries }) => {\r\n          if (_entries) {\r\n            const sortByLastUpdated = _entries.sort((a, b) => {\r\n              return dayjs(b.updatedAt).unix() - dayjs(a.updatedAt).unix();\r\n            });\r\n            dispatch(setEntries(sortByLastUpdated));\r\n          }\r\n        });\r\n    }\r\n  }, [id, dispatch]);\r\n\r\n\r\n  return (\r\n    <div className=\"entries\">\r\n      <header>\r\n        <Link to=\"/\"><h3>&larr; Go Back</h3></Link>\r\n      </header>\r\n      <ul>\r\n        {entries.map((entry) => (\r\n          <li key={entry.id} onClick={() => { dispatch(setCurrentlyEditing(entry)); dispatch(setCanEdit(true));}}>\r\n            {entry.title}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default DiaryEntriesList;\r\n// Here, we subscribe to the entries property of our app’s state, and have our effect fetch a \r\n// diary’s entry only run when a property, id, changes. This property’s value is gotten from our \r\n// URL as a path parameter using the useParams() hook from react-router. In the next step, we will \r\n// create a component that will enable users to create and view diaries, as well as render a diary’s \r\n// entries when it is in focus.\r\n// Create a file named Diaries.tsx while still in the same directory, and add the following code to the file:"]},"metadata":{},"sourceType":"module"}